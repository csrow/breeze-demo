/**
 * ggmugBz - ggmugBz Project Generated from HotTowel Angular
 * @authors 
 * @version v0.0.0
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["app.core","app.widgets","app.layout","breeze.angular","page.items"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router","ngplus","angular-table"])}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";angular.module("page.items",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.widgets",[])}(),function(){"use strict";function e(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function t(e){e.decorator("$exceptionHandler",n)}function n(e,t,n){return function(i,a){var r=t.config.appErrorPrefix||"",o={exception:i,cause:a};i.message=r+i.message,e(i,a),n.error(i.message,o)}}angular.module("blocks.exception").provider("exceptionHandler",e).config(t),t.$inject=["$provide"],n.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function e(e,t){function n(n){return function(i){var a,r;return i.data&&i.data.description&&(a="\n"+i.data.description,r=n+a),i.data.description=r,t.error(r),e.reject(i)}}var i={catcher:n};return i}angular.module("blocks.exception").factory("exception",e),e.$inject=["$q","logger"]}(),function(){"use strict";function e(e,t){function n(n,i,a){t.error(n,a),e.error("Error: "+n,i)}function i(n,i,a){t.info(n,a),e.info("Info: "+n,i)}function a(n,i,a){t.success(n,a),e.info("Success: "+n,i)}function r(n,i,a){t.warning(n,a),e.warn("Warning: "+n,i)}var o={showToasts:!0,error:n,info:i,success:a,warning:r,log:e.log};return o}angular.module("blocks.logger").factory("logger",e),e.$inject=["$log","toastr"]}(),function(){"use strict";function e(e,t,n){function i(e,i,r,o){function s(e,i){e.forEach(function(e){e.config.resolve=angular.extend(e.config.resolve||{},a.resolveAlways),t.state(e.state,e.config)}),i&&!g&&(g=!0,n.otherwise(i))}function c(){i.$on("$stateChangeError",function(t,n,i,a,r,s){if(!m){p.errors++,m=!0;var c=n&&(n.title||n.name||n.loadedTemplateUrl)||"unknown target",l="Error routing to "+c+". "+(s.data||"")+". <br/>"+(s.statusText||"")+": "+(s.status||"");o.warning(l,[n]),e.path("/")}})}function l(){c(),d()}function u(){return r.get()}function d(){i.$on("$stateChangeSuccess",function(e,t,n,r,o){p.changes++,m=!1;var s=a.docTitle+" "+(t.title||"");i.title=s})}var m=!1,g=!1,p={errors:0,changes:0},v={configureStates:s,getStates:u,stateCounts:p};return l(),v}var a={docTitle:void 0,resolveAlways:{}};e.html5Mode(!0),this.configure=function(e){angular.extend(a,e)},this.$get=i,i.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",e),e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.options.timeOut=4e3,e.options.positionClass="toast-bottom-right"}function t(e,t,n){e.debugEnabled&&e.debugEnabled(!0),n.configure(r.appErrorPrefix),t.configure({docTitle:r.appTitle+": "})}var n=angular.module("app.core");n.config(e),e.$inject=["toastr"];var i="http://ggmugbzdemo.azurewebsites.net/",a="breeze/bzdemo1",r={appErrorPrefix:"[ggmugBz Error] ",appTitle:"GGMUG Breeze Demo",remoteServerName:i,remoteServiceName:a};n.value("config",r),n.config(t),t.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider"]}(),function(){"use strict";angular.module("app.core").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e){var n="/404";e.configureStates(t(),n)}function t(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}angular.module("app.core").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,t,n,i,a){function r(){function e(e){return b.customer=!0,b.item=!0,b.order=!0,b.detail=!0,i.success("Retrieved Initial data",e,"Lookups"),!0}return f.from("Lookups").using(h).execute().then(e)["catch"](v)}function o(n){function a(e){return r=e.results,b.item=!0,i.success("Items Fetched "+r.length,null,"Items Get"),r}var r,o=(new e.EntityQuery).from("Items").orderBy("name");return b.item&&!n?(r=p(o),t.when(r)):h.executeQuery(o).then(a)["catch"](v)}function s(n,i){function a(e){return r=e.inlineCount}var r=0,o=(new e.EntityQuery).from("Details").where(n,"==",i).take(0).inlineCount();if(b.detail){var s=p(o);return s.forEach(function(e){e[n]===i&&r++}),t.when(r)}return h.executeQuery(o).then(a)["catch"](v)}function c(t){function n(e){return e.results.length>0?!0:!1}var i=(new e.EntityQuery).from("Items").where("name","==",t);return h.executeQuery(i).then(n)["catch"](v)}function l(e){var t=h.createEntity("Item");return t.name=e.name,t.description=e.description,t.price=e.price,g()}function u(e){if(e){var t=e.entityAspect;return t.setDeleted(),g()}}function d(){return!h.hasChanges()}function m(){h.rejectChanges()}function g(){function e(e){return i.success("Save Finished",e.entities.length,"Save Operation"),t.when(e)}function n(e){var t=e.message,n=e.detail;return e.entityErrors?t+=" Check on required fields.":t=n&&n.ExceptionType&&-1!==n.ExceptionType.indexOf("OptimisticConcurrencyException")?"Another user, perhaps the server, may have deleted one or all of entities. You may have to restart the app.":"Failed to save changes: "+t+" You may have to restart the app.",i.error(t,"","Save Operation Error"),r(),e}return h.hasChanges()?h.saveChanges().then(e)["catch"](n):t.when({})}function p(e){return h.executeQueryLocally(e)}function v(e){return n.catcher("Retrival failed")(e)}var f=e.EntityQuery,h=a.newManager(),b={customer:!1,item:!1,order:!1,detail:!1},w={getInit:r,getItems:o,getDetailsItemCount:s,addNewItem:l,deleteItem:u,saveChanges:g,noPendingChanges:d,cancelChanges:m,checkItemDuplicate:c};return w}angular.module("app.core").factory("datacontext",e),e.$inject=["breeze","$q","exception","logger","entityManagerFactory"]}(),function(){"use strict";function e(e,t,n,i){function a(){return t.when(72)}function r(){function t(e){return e.data}function i(e){return n.catcher("XHR Failed for getPeople")(e)}return e.get("/api/people").then(t)["catch"](i)}var o={getPeople:r,getMessageCount:a};return o}angular.module("app.core").factory("dataservice",e),e.$inject=["$http","$q","exception","logger"]}(),function(){"use strict";function e(e,t){function n(){var t=new e.EntityManager({serviceName:a,metadataStore:r});return t}e.NamingConvention.camelCase.setAsDefault(),new e.ValidationOptions({validateOnAttach:!1}).setAsDefault();var i=t.remoteServerName,a=i+t.remoteServiceName,r=new e.MetadataStore,o={metadataStore:r,newManager:n};return o}var t="entityManagerFactory";angular.module("app.core").factory(t,e),e.$inject=["breeze","config"]}(),function(){"use strict";function e(){function e(e,t,n){function i(t){var n="dropy";t.preventDefault(),r.hasClass(n)?r.hasClass(n)&&(r.removeClass(n),a.slideUp(350,e.whenDoneAnimating)):(a.slideDown(350,e.whenDoneAnimating),r.addClass(n))}var a=t.find(".sidebar-inner"),r=t.find(".sidebar-dropdown a");t.addClass("sidebar"),r.click(i)}var t={link:e,restrict:"EA",scope:{whenDoneAnimating:"&?"}};return t}angular.module("app.layout").directive("htSidebar",e)}(),function(){"use strict";function e(){function e(){}var t={bindToController:!0,controller:e,controllerAs:"vm",restrict:"EA",scope:{navline:"="},templateUrl:"app/layout/ht-top-nav.html"};return t}angular.module("app.layout").directive("htTopNav",e)}(),function(){"use strict";function e(e,t,n,i,a){function r(){a.getInit(),i.success(n.appTitle+" loaded!",null),o()}function o(){t(function(){e.showSplash=!1},1e3)}var s=this;s.busyMessage="Please wait ...",s.isBusy=!0,e.showSplash=!0,s.navline={title:n.appTitle,text:"Chi Row  - csrow@hotmail.com",link:"https://github.com/csrow/breeze-demo"},r()}angular.module("app.layout").controller("ShellController",e),e.$inject=["$rootScope","$timeout","config","logger","datacontext"]}(),function(){"use strict";function e(e,t){function n(){i()}function i(){r.navRoutes=o.filter(function(e){return e.settings&&e.settings.nav}).sort(function(e,t){return e.settings.nav-t.settings.nav})}function a(t){if(!t.title||!e.current||!e.current.title)return"";var n=t.title;return e.current.title.substr(0,n.length)===n?"current":""}var r=this,o=t.getStates();r.isCurrent=a,n()}angular.module("app.layout").controller("SidebarController",e),e.$inject=["$state","routerHelper"]}(),function(){"use strict";function e(e,t,n,i,a,r){function o(){var t=[g()];return e.all(t).then(function(){n.info("Activated Items View")})}function s(e){i.go("items.edit"),h.editItem=e,h.inEditItem.description=e.description,h.inEditItem.price=e.price,h.inEdit=!0}function c(){h.editItem.description=h.inEditItem.description,h.editItem.price=h.inEditItem.price,t.saveChanges().then(d())}function l(){i.go("items.add")}function u(){f(h.newItem.name).then(function(e){return e?void alert("Item "+h.newItem.name+"already in the system."):void t.addNewItem(h.newItem).then(function(){n.success("New Item Added","","Item Add"),d()})})}function d(){i.go("items","",{reload:!0})}function m(e){var i=confirm("Delete "+e.name+" ?");i&&t.deleteItem(e).then(g().then(function(){n.success("Item deleted.","","Delete Item")}))}function g(){return t.getItems().then(function(e){return h.items=e,h.itemsArraySize=h.items.length,p()})}function p(){var e,t="itemID";h.items.forEach(function(n,i){e=n.itemID,v(t,e,i).then(function(e){h.items[i].count=e})})}function v(e,n,i){return t.getDetailsItemCount(e,n).then(function(e){return e})}function f(e){return t.checkItemDuplicate(e)}var h=this;h.news={title:"Dry Cleaning Service Items",description:"Items maintenance screen"},h.title="Items",h.items=[],h.itemsArraySize=0,h.newItem={},h.editItem={},h.inEdit=!1,h.inEditItem={},h.addNew=l,h.saveAdd=u,h.cancelNow=d,h["delete"]=m,h.startEdit=s,h.saveEdit=c,h.config={itemsPerPage:10,fillLastPage:!0},o()}angular.module("page.items").controller("ItemsController",e),e.$inject=["$q","datacontext","logger","$state","$scope","$location"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"items",config:{url:"/",templateUrl:"app/pageItems/items.html",controller:"ItemsController",controllerAs:"vm",title:"Items",settings:{nav:1,content:'<i class="fa fa-file-text-o"></i> Items'}}},{state:"items.add",config:{url:"add",templateUrl:"app/pageItems/items.add.html",title:"Items Add"}},{state:"items.edit",config:{url:"edit",templateUrl:"app/pageItems/items.edit.html",title:"Items Edit"}}]}angular.module("page.items").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){function t(e,t,a){a.$observe("htImgPerson",function(e){e=n+(e||i),a.$set("src",e)})}var n=e.imageBasePath,i=e.unknownPersonImageSource,a={link:t,restrict:"A"};return a}angular.module("app.widgets").directive("htImgPerson",e),e.$inject=["config"]}(),function(){"use strict";function e(){var e={scope:{title:"@",subtitle:"@",rightText:"@",allowCollapse:"@"},templateUrl:"app/widgets/widget-header.html",restrict:"EA"};return e}angular.module("app.widgets").directive("htWidgetHeader",e)}(),angular.module("app.core").run(["$templateCache",function(e){e.put("app/core/404.html",'<section id=dashboard-view class=mainbar><section class=matter><div class=container><div class=row><div class=col-md-12><ul class=today-datas><li class=bred><div class=pull-left><i class="fa fa-warning"></i></div><div class="datas-text pull-right"><a><span class=bold>404</span></a>Page Not Found</div><div class=clearfix></div></li></ul></div></div><div class=row><div class="widget wblue"><div ht-widget-header title="Page Not Found" allow-collapse=true></div><div class="widget-content text-center text-info"><div class=container>No soup for you!</div></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></section></section>'),e.put("app/layout/ht-top-nav.html",'<nav class="navbar navbar-fixed-top navbar-inverse"><div class=navbar-header><a href="/" class=navbar-brand><span class=brand-title>{{vm.navline.title}}</span></a> <a class="btn navbar-btn navbar-toggle" data-toggle=collapse data-target=.navbar-collapse><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></a></div><div class="navbar-collapse collapse"><div class="pull-right navbar-logo"><ul class="nav navbar-nav pull-right"><li><a ng-href={{vm.navline.link}} target=_blank>{{vm.navline.text}}</a></li><li><a href="http://www.getbreezenow.com/" target=_blank><img src=images/breeze_large.png></a></li><li class="dropdown dropdown-big"><a href=http://www.angularjs.org target=_blank><img src=images/AngularJS-small.png></a></li></ul></div></div></nav>'),e.put("app/layout/shell.html",'<div ng-controller="ShellController as vm"><header class=clearfix><ht-top-nav navline=vm.navline></ht-top-nav></header><section id=content class=content><div ng-include="\'app/layout/sidebar.html\'"></div><div ui-view class=shuffle-animation></div><div ngplus-overlay ngplus-overlay-delay-in=50 ngplus-overlay-delay-out=700 ngplus-overlay-animation=dissolve-animation><img src=images/busy.gif><div class="page-spinner-message overlay-message">{{vm.busyMessage}}</div></div></section></div>'),e.put("app/layout/sidebar.html",'<div ng-controller="SidebarController as vm"><ht-sidebar when-done-animating=vm.sidebarReady()><div class=sidebar-filler></div><div class=sidebar-dropdown><a href=#>Menu</a></div><div class=sidebar-inner><div class=sidebar-widget></div><ul class=navi><li class="nlightblue fade-selection-animation" ng-class=vm.isCurrent(r) ng-repeat="r in vm.navRoutes"><a ui-sref={{r.name}} ng-bind-html=r.settings.content></a></li></ul></div></ht-sidebar></div>'),e.put("app/pageItems/items.add.html",'<form name=newItemForm><div class=row><div class=col-md-2><h3>Add New Item</h3></div><div class=col-md-3><button class="btn btn-primary" type=button data-ng-show=newItemForm.$valid data-ng-click=vm.saveAdd()>SAVE</button> <button class="btn btn-warning" type=button data-ng-click=vm.cancelNow()>CANCEL</button></div></div><div class=row><div class=form-group><label>Name :</label> <input type=text name=name class=form-control ng-model=vm.newItem.name ng-maxlength=50 ng-required=true></div><div class=form-group><label>Description :</label> <input type=text name=desc class=form-control ng-model=vm.newItem.description ng-maxlength=50 ng-required=true></div><div class=form-group><label>Price :</label> <input type=text name=price class=form-control ng-model=vm.newItem.price ng-pattern="/^\\d{1,5}(\\.\\d{1,2})?$/" ng-required=true></div><p class="alert alert-danger" ng-if=newItemForm.name.$touched ng-show=newItemForm.name.$error.required>Need to enter NAME.</p><p class="alert alert-danger" ng-if=newItemForm.desc.$touched ng-show=newItemForm.desc.$error.required>Need to enter DESCRIPTION.</p><p class="alert alert-danger" ng-if=newItemForm.price.$touched ng-show=newItemForm.price.$error.required>Need to enter PRICE.</p><p class="alert alert-danger" ng-if=newItemForm.price.$touched ng-show=newItemForm.price.$error.pattern>Please enter 2 digit number for PRICE.</p></div></form>'),e.put("app/pageItems/items.edit.html",'<form name=editItemForm><div class=row><div class=col-md-2><h3>Edit Item</h3></div><div class=col-md-3><button class="btn btn-primary" type=button data-ng-show=editItemForm.$valid data-ng-click=vm.saveEdit()>SAVE</button> <button class="btn btn-warning" type=button data-ng-click=vm.cancelNow()>CANCEL</button></div></div><div class=row><div><h5>Name : <span class="label label-success">{{vm.editItem.name}}</span></h5></div><div class=form-group><label>Description :</label> <input type=text name=desc class=form-control ng-model=vm.inEditItem.description ng-maxlength=50 ng-required=true></div><div class=form-group><label>Price :</label><input type=text name=price class=form-control ng-model=vm.inEditItem.price ng-required=true></div><p class="alert alert-danger" ng-if=editItemForm.desc.$touched ng-show=editItemForm.desc.$error.required>Need to enter DESCRIPTION.</p><p class="alert alert-danger" ng-if=editItemForm.price.$touched ng-show=editItemForm.price.$error.required>Need to enter PRICE.</p></div></form>'),e.put("app/pageItems/items.html",'<section class=mainbar><section class=matter><div class=container><div class=row><div class="widget wviolet"><div ht-widget-header title={{vm.news.title}}></div><div class="widget-content user"><div ui-view><h3>Items List ({{vm.itemsArraySize}} items)</h3><button class="btn btn-info" type=button data-ng-click=vm.addNew()>Add New Item</button></div></div><div class="widget wgreen col-md-6"><div data-cc-widget-header title="Items List"></div><div class="widget-content text-info"><table at-table at-list=vm.items at-config=vm.config at-paginated class="table table-condensed table-striped"><thead></thead><tbody><tr><td at-title=Name>{{item.name}}</td><td at-title=Description>{{item.description}}</td><td at-title=Price>{{item.price}}</td><td><button type=button data-ng-show="item.count==0" data-ng-click=vm.delete(item)>Delete</button></td><td><button type=button data-ng-click=vm.startEdit(item)>Edit</button></td></tr></tbody></table><at-pagination at-config=vm.config at-list=vm.items></at-pagination></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></div></section></section>'),e.put("app/widgets/widget-header.html",'<div class=widget-head><div class="page-title pull-left">{{title}}</div><small class=page-title-subtle ng-show=subtitle>({{subtitle}})</small><div class="widget-icons pull-right"></div><small class="pull-right page-title-subtle" ng-show=rightText>{{rightText}}</small><div class=clearfix></div></div>')}]);